var VueScrollProgressBar=function(e){"use strict";var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,r=/^0o[0-7]+$/i,s=parseInt,a="object"==typeof n&&n&&n.Object===Object&&n,l="object"==typeof self&&self&&self.Object===Object&&self,d=a||l||Function("return this")(),c=Object.prototype.toString,u=Math.max,f=Math.min,p=function(){return d.Date.now()};function h(e,n,t){var o,i,r,s,a,l,d=0,c=!1,h=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(n){var t=o,r=i;return o=i=void 0,d=n,s=e.apply(r,t)}function b(e){return d=e,a=setTimeout(C,n),c?y(e):s}function w(e){var t=e-l;return void 0===l||t>=n||t<0||h&&e-d>=r}function C(){var e=p();if(w(e))return S(e);a=setTimeout(C,function(e){var t=n-(e-l);return h?f(t,r-(e-d)):t}(e))}function S(e){return a=void 0,g&&o?y(e):(o=i=void 0,s)}function E(){var e=p(),t=w(e);if(o=arguments,i=this,l=e,t){if(void 0===a)return b(l);if(h)return a=setTimeout(C,n),y(l)}return void 0===a&&(a=setTimeout(C,n)),s}return n=v(n)||0,m(t)&&(c=!!t.leading,r=(h="maxWait"in t)?u(v(t.maxWait)||0,n):r,g="trailing"in t?!!t.trailing:g),E.cancel=function(){void 0!==a&&clearTimeout(a),d=0,o=l=i=a=void 0},E.flush=function(){return void 0===a?s:S(p())},E}function m(e){var n=typeof e;return!!e&&("object"==n||"function"==n)}function v(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==c.call(e)}(e))return NaN;if(m(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=m(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(t,"");var a=i.test(e);return a||r.test(e)?s(e.slice(2),a?2:8):o.test(e)?NaN:+e}var g=function(e,n,t){var o=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return m(t)&&(o="leading"in t?!!t.leading:o,i="trailing"in t?!!t.trailing:i),h(e,n,{leading:o,maxWait:n,trailing:i})},y={name:"VueScrollProgressBar",props:{height:{type:String,default:".5rem"},zIndex:{type:String,default:"50"},backgroundColor:{type:String,default:"linear-gradient(to right, #38C172, #51D88A)"},containerColor:{type:String,default:"transparent"},barClass:{type:Object,default:function(){}},containerClass:{type:Object,default:function(){return{"progress-bar-container--container":!0}}}},data:function(){return{width:0}},mounted:function(){var e=!1;try{var n={get passive(){return e={passive:!0},!1}};window.addEventListener("test",null,n),window.removeEventListener("test",null,n)}catch(e){}window.addEventListener("scroll",g(this.handleScroll,15),e),window.dispatchEvent(new Event("scroll"))},destroyed:function(){window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll:function(){var e=document.documentElement.scrollHeight-document.documentElement.clientHeight;this.width=window.scrollY/e*100;var n=Math.ceil(this.width);0===n&&this.$emit("begin"),100===n&&this.$emit("complete")}}};const b="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());let w;const C={};const S=y;var E=function(){var e=this.$createElement,n=this._self._c||e;return n("div",{class:this.containerClass,style:{background:this.containerColor,zIndex:this.zIndex}},[n("div",{class:this.barClass,style:{width:this.width+"%",height:this.height,background:this.backgroundColor}})])};E._withStripped=!0;var A=function(e,n,t,o,i,r,s,a,l,d){"boolean"!=typeof s&&(l=a,a=s,s=!1);const c="function"==typeof t?t.options:t;let u;if(e&&e.render&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0,i&&(c.functional=!0)),o&&(c._scopeId=o),r?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,l(e)),e&&e._registeredComponents&&e._registeredComponents.add(r)},c._ssrRegister=u):n&&(u=s?function(e){n.call(this,d(e,this.$root.$options.shadowRoot))}:function(e){n.call(this,a(e))}),u)if(c.functional){const e=c.render;c.render=function(n,t){return u.call(t),e(n,t)}}else{const e=c.beforeCreate;c.beforeCreate=e?[].concat(e,u):[u]}return t}({render:E,staticRenderFns:[]},(function(e){e&&e("data-v-bf2dfb2a_0",{source:"\n.progress-bar-container--container[data-v-bf2dfb2a] {\n  position: fixed;\n  width: 100%;\n  top: 0;\n  left: 0;\n}\n",map:{version:3,sources:["/Users/guillaumebriday/Sites/vue-scroll-progressbar/src/components/VueScrollProgressBar.vue"],names:[],mappings:";AA6GA;EACA,eAAA;EACA,WAAA;EACA,MAAA;EACA,OAAA;AACA",file:"VueScrollProgressBar.vue",sourcesContent:["<template>\n  <div\n    :class=\"containerClass\"\n    :style=\"{\n      background: containerColor,\n      zIndex: zIndex\n    }\"\n  >\n    <div\n      :class=\"barClass\"\n      :style=\"{\n        width: `${width}%`,\n        height: height,\n        background: backgroundColor\n      }\"\n    />\n  </div>\n</template>\n\n<script>\nimport throttle from 'lodash.throttle'\n\nexport default {\n  name: 'VueScrollProgressBar',\n\n  props: {\n    height: {\n      type: String,\n      default: '.5rem'\n    },\n\n    zIndex: {\n      type: String,\n      default: '50'\n    },\n\n    backgroundColor: {\n      type: String,\n      default: 'linear-gradient(to right, #38C172, #51D88A)'\n    },\n\n    containerColor: {\n      type: String,\n      default: 'transparent'\n    },\n\n    barClass: {\n      type: Object,\n      default: () => {}\n    },\n\n    containerClass: {\n      type: Object,\n      default: () => {\n        return {\n          'progress-bar-container--container': true\n        }\n      }\n    }\n  },\n\n  data () {\n    return {\n      width: 0\n    }\n  },\n\n  mounted () {\n    let passiveIfSupported = false\n\n    try {\n      const options = {\n        get passive () {\n          passiveIfSupported = { passive: true }\n          return false\n        }\n      }\n\n      window.addEventListener('test', null, options)\n      window.removeEventListener('test', null, options)\n    } catch (error) {}\n\n    window.addEventListener('scroll', throttle(this.handleScroll, 15), passiveIfSupported)\n    window.dispatchEvent(new Event('scroll'))\n  },\n\n  destroyed () {\n    window.removeEventListener('scroll', this.handleScroll)\n  },\n\n  methods: {\n    handleScroll () {\n      const height = document.documentElement.scrollHeight - document.documentElement.clientHeight\n      this.width = (window.scrollY / height) * 100\n      const eventWidth = Math.ceil(this.width)\n\n      if (eventWidth === 0) {\n        this.$emit('begin')\n      }\n\n      if (eventWidth === 100) {\n        this.$emit('complete')\n      }\n    }\n  }\n}\n<\/script>\n\n<style scoped>\n.progress-bar-container--container {\n  position: fixed;\n  width: 100%;\n  top: 0;\n  left: 0;\n}\n</style>\n"]},media:void 0})}),S,"data-v-bf2dfb2a",!1,void 0,!1,(function(e){return(e,n)=>function(e,n){const t=b?n.media||"default":e,o=C[t]||(C[t]={ids:new Set,styles:[]});if(!o.ids.has(e)){o.ids.add(e);let t=n.source;if(n.map&&(t+="\n/*# sourceURL="+n.map.sources[0]+" */",t+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n.map))))+" */"),o.element||(o.element=document.createElement("style"),o.element.type="text/css",n.media&&o.element.setAttribute("media",n.media),void 0===w&&(w=document.head||document.getElementsByTagName("head")[0]),w.appendChild(o.element)),"styleSheet"in o.element)o.styles.push(t),o.element.styleSheet.cssText=o.styles.filter(Boolean).join("\n");else{const e=o.ids.size-1,n=document.createTextNode(t),i=o.element.childNodes;i[e]&&o.element.removeChild(i[e]),i.length?o.element.insertBefore(n,i[e]):o.element.appendChild(n)}}}(e,n)}),void 0,void 0);function x(e){e.component(A.name,A)}var _={install:x},j=null;return"undefined"!=typeof window?j=window.Vue:"undefined"!=typeof global&&(j=global.Vue),j&&j.use(_),e.VueScrollProgressBar=A,e.default=_,e.install=x,e}({});
